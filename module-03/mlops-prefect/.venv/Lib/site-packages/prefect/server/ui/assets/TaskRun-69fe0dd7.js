import{d as C,m as N,v as A,c as n,l as F,ae as d,a5 as V,u as t,g as l,w as e,i as r,h as c,E as j,o as i,k as u,af as B,ag as f,X as q,q as g,ah as E,s as J,e as L,ai as M,aj as O,ad as P,Y as Q}from"./index-90a34f95.js";import{u as X}from"./usePageTitle-0cc457c9.js";const H=C({__name:"TaskRun",setup(Y){const v=j(),p=N("taskRunId"),k=A(),R=n(()=>{const a=["Logs","Artifacts","Task Inputs"];return F.xl||a.push("Details"),a}),m=n(()=>p.value?[p.value]:null),h=d(k.taskRuns.getTaskRun,m,{interval:3e4}),s=n(()=>h.response),o=n(()=>{var a;return(a=s.value)==null?void 0:a.flowRunId}),w=n(()=>o.value?[o.value]:null),y=d(k.flowRuns.getFlowRun,w),_=n(()=>{var a;return(a=s.value)!=null&&a.taskInputs?JSON.stringify(s.value.taskInputs,void 0,2):"{}"});function T(){y.refresh(),v.push(Q.flowRun(o.value))}const x=n(()=>{var a;return(a=s.value)==null?void 0:a.stateType});V(x);const I=n(()=>s.value?`Task Run: ${s.value.name}`:"Task Run");return X(I),(a,$)=>{const b=c("p-code-highlight"),D=c("p-tabs"),S=c("p-layout-well");return t(s)?(i(),l(S,{key:0,class:"task-run"},{header:e(()=>[u(t(B),{"task-run-id":t(s).id,onDelete:T},null,8,["task-run-id"])]),well:e(()=>[u(t(f),{alternate:"","task-run":t(s)},null,8,["task-run"])]),default:e(()=>[u(D,{tabs:t(R)},q({details:e(()=>[u(t(f),{"task-run":t(s)},null,8,["task-run"])]),logs:e(()=>[u(t(M),{"task-run":t(s)},null,8,["task-run"])]),artifacts:e(()=>[t(s)?(i(),l(t(O),{key:0,"task-run":t(s)},null,8,["task-run"])):r("",!0)]),"task-inputs":e(()=>[t(s)?(i(),l(t(P),{key:0,"text-to-copy":t(_)},{default:e(()=>[u(b,{lang:"json",text:t(_),class:"task-run__inputs"},null,8,["text"])]),_:1},8,["text-to-copy"])):r("",!0)]),_:2},[t(s)?{name:"task-inputs-heading",fn:e(()=>[g(" Task inputs "),u(t(E),{title:"Task Inputs"},{default:e(()=>[g(J(t(L).info.taskInput),1)]),_:1})]),key:"0"}:void 0]),1032,["tabs"])]),_:1})):r("",!0)}}});export{H as default};
