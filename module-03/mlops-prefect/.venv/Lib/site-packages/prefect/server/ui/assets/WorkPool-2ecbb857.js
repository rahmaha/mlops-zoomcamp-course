import{d as T,v as A,m as U,bu as V,a as z,c as l,l as D,b as S,an as Y,u as o,g as i,w as t,i as m,h as s,o as w,k as a,bv as q,bw as d,as as F,bx as H,by as O,z as Q}from"./index-90a34f95.js";import{u as j}from"./usePageTitle-0cc457c9.js";const J=T({__name:"WorkPool",setup(E){const f=A(),r=U("workPoolName"),_=V(),b={interval:3e5},p=z(f.workPools.getWorkPoolByName,[r.value],b),e=l(()=>p.response),u=l(()=>{var n;return((n=e.value)==null?void 0:n.type)==="prefect-agent"}),v=l(()=>[{label:"Details",hidden:D.xl},{label:"Runs"},{label:"Work Queues"},{label:"Workers",hidden:!_.access.workers||u.value}]),{tab:c,tabs:P}=S(v),g=l(()=>e.value?`Your work pool ${e.value.name} is ready to go!`:"Your work pool is ready to go!"),y=l(()=>{var n;return`prefect ${u.value?"agent":"worker"} start --pool ${(n=e.value)==null?void 0:n.name}`}),C=l(()=>`Work pools organize work that ${u.value?"Prefect agents":"Prefect workers"} can pull from.`),{filter:B}=Y({workPools:{name:[r.value]}}),W=l(()=>e.value?`Work Pool: ${e.value.name}`:"Work Pool");return j(W),(n,k)=>{const h=s("CodeBanner"),x=s("p-tabs"),N=s("p-layout-well"),$=s("p-layout-default");return o(e)?(w(),i($,{key:0},{header:t(()=>[a(o(q),{"work-pool":o(e),onUpdate:o(p).refresh},null,8,["work-pool","onUpdate"])]),default:t(()=>[o(e)?(w(),i(N,{key:0,class:"work-pool"},{header:t(()=>[a(h,{command:o(y),title:o(g),subtitle:o(C)},null,8,["command","title","subtitle"])]),well:t(()=>[a(o(d),{alternate:"","work-pool":o(e)},null,8,["work-pool"])]),default:t(()=>[a(x,{selected:o(c),"onUpdate:selected":k[0]||(k[0]=R=>Q(c)?c.value=R:null),tabs:o(P)},{details:t(()=>[a(o(d),{"work-pool":o(e)},null,8,["work-pool"])]),runs:t(()=>[a(o(F),{"flow-run-filter":o(B)},null,8,["flow-run-filter"])]),"work-queues":t(()=>[a(o(H),{"work-pool-name":o(r)},null,8,["work-pool-name"])]),workers:t(()=>[a(o(O),{"work-pool-name":o(r)},null,8,["work-pool-name"])]),_:1},8,["selected","tabs"])]),_:1})):m("",!0)]),_:1})):m("",!0)}}});export{J as default};
