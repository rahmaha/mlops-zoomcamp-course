import{d as E,v as J,a as d,c as r,r as k,C as M,D as O,g as t,w as i,h as g,E as P,o as s,k as a,u as e,G as j,j as h,H as q,F,J as z,l as b,L as G,i as f,M as _,N as I,O as K,P as W,S as X,T as Y,V as Q,W as Z,X as $,q as ee,Y as se}from"./index-90a34f95.js";import{u as oe}from"./usePageTitle-0cc457c9.js";const te={class:"flow-runs__list"},ne={class:"flow-runs__list-controls"},le={class:"flow-runs__list-controls--right"},de=E({__name:"FlowRuns",setup(ae){const C=P(),c=J(),m=d(c.flowRuns.getFlowRunsCount,[{}]),V=r(()=>m.executed),x=r(()=>m.response===0),p=k(),S=M(p,1200),{filter:o,isCustomFilter:N}=O({flowRuns:{nameLike:S}}),w={interval:3e4},R=d(c.flowRuns.getFlowRunsCount,[o],w),B=r(()=>R.response),T=d(c.ui.getFlowRunHistory,[o],w),H=r(()=>T.response??[]),y=d(c.flowRuns.getFlowRuns,[o],w),v=r(()=>y.response??[]),n=k([]);function L(){C.push(se.flowRuns())}const U=()=>{n.value=[],y.refresh(),R.refresh()};return oe("Flow Runs"),(ue,l)=>{const A=g("p-button"),D=g("p-layout-default");return s(),t(D,{class:"flow-runs"},{header:i(()=>[a(e(j))]),default:i(()=>[e(V)?(s(),h(F,{key:0},[e(x)?(s(),t(e(q),{key:0})):(s(),h(F,{key:1},[a(e(z)),e(b).md?(s(),t(e(G),{key:0,history:e(H),"start-date":e(o).flowRuns.expectedStartTimeAfter,"end-date":e(o).flowRuns.expectedStartTimeBefore,class:"flow-runs__chart"},null,8,["history","start-date","end-date"])):f("",!0),_("div",te,[_("div",ne,[_("div",le,[n.value.length==0?(s(),t(e(I),{key:0,count:e(B),label:"Flow run"},null,8,["count"])):(s(),t(e(K),{key:1,count:n.value.length},null,8,["count"])),a(e(W),{selected:n.value,onDelete:U},null,8,["selected"])]),e(b).md?(s(),t(e(X),{key:0,modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=u=>p.value=u),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):f("",!0),a(e(Y),{modelValue:e(o).sort,"onUpdate:modelValue":l[1]||(l[1]=u=>e(o).sort=u)},null,8,["modelValue"])]),a(e(Q),{selected:n.value,"onUpdate:selected":l[2]||(l[2]=u=>n.value=u),"flow-runs":e(v)},null,8,["selected","flow-runs"]),e(v).length?f("",!0):(s(),t(e(Z),{key:0},$({_:2},[e(N)?{name:"actions",fn:i(()=>[a(A,{size:"sm",secondary:"",onClick:L},{default:i(()=>[ee(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):f("",!0)]),_:1})}}});export{de as default};
